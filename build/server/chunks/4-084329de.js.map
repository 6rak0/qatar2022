{"version":3,"file":"4-084329de.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/login/_page.server.js","../../../.svelte-kit/adapter-node/nodes/4.js"],"sourcesContent":["import { r as redirect, i as invalid } from \"../../../chunks/index2.js\";\nimport { b as base } from \"../../../chunks/paths.js\";\nconst load = ({ locals }) => {\n  if (locals.pb.authStore.isValid) {\n    throw redirect(303, `${base}/`);\n  }\n};\nconst actions = {\n  login: async ({ request, locals }) => {\n    const formData = await request.formData();\n    const data = Object.fromEntries([...formData]);\n    try {\n      await locals.pb.collection(\"users\").authWithPassword(data.username, data.password);\n      redirect(301, `${base}/`);\n    } catch (error) {\n      console.error(error);\n      return invalid(error.status, {\n        error: true,\n        status: error.status\n      });\n    }\n  },\n  register: async ({ request, locals }) => {\n    const formData = await request.formData();\n    const data = Object.fromEntries([...formData]);\n    try {\n      const { id } = await locals.pb.collection(\"users\").create(data);\n      await locals.pb.collection(\"users\").authWithPassword(data.username, data.password);\n      const payload = {\n        link: id,\n        isPaying: false,\n        name: data.username,\n        data: {}\n      };\n      await locals.pb.collection(\"qatar2022\").create(payload);\n      redirect(301, `${base}/`);\n    } catch (error) {\n      console.error(error);\n      return invalid(error.status, {\n        error: true,\n        status: error.status\n      });\n    }\n  }\n};\nexport {\n  actions,\n  load\n};\n","import * as server from '../entries/pages/login/_page.server.js';\n\nexport const index = 4;\nexport const component = async () => (await import('../entries/pages/login/_page.svelte.js')).default;\nexport const file = '_app/immutable/components/pages/login/_page.svelte-1adb5b15.js';\nexport { server };\nexport const imports = [\"_app/immutable/components/pages/login/_page.svelte-1adb5b15.js\",\"_app/immutable/chunks/index-25fdf90a.js\"];\nexport const stylesheets = [];\nexport const fonts = [];\n"],"names":[],"mappings":"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"}